import a from'node:fs/promises';import b from'picocolors';import {getFilePath as d} from'./get_file_path.js';var e=d('../user_settings.json'),f={dateFormat:'DD/MM/YYYY',numTableRows:3},h=async _=>{try{await a.writeFile(e,JSON.stringify(_,null,2));return _}catch(B){console.error(B)}},{assign:c}=Object;export var getSettings=async ()=>{try{return JSON.parse(await a.readFile(e,'utf-8'))}catch(A){if(A.code==='ENOENT'){console.log(b.bgRed(b.bold(b.whiteBright('⚠️  User settings file not found!'))));console.log(b.bgGreen(b.bold(b.whiteBright('🆕 Creating a new user settings file at:'))));console.log(`${b.dim(e)}`);await a.writeFile(e,JSON.stringify(f,null,2),'utf-8');return f}console.error(A);throw A}};export var insertSettings=async C=>{try{let _a=await getSettings();_a={};c(_a,C);await h(_a);return C}catch(D){console.error(D)}};